-- Import aliases for priority-1 foods.
-- Run after catalog import.
begin;

with alias_seed(food_name, alias_lang, alias) as (
  values
    ('肉燥飯', 'zh-TW', '肉燥飯'),
    ('肉燥飯', 'zh-TW', '肉燥'),
    ('豬腳飯', 'zh-TW', '豬腳飯'),
    ('豬腳飯', 'zh-TW', '豬腳'),
    ('滷雞腿飯', 'zh-TW', '滷雞腿飯'),
    ('滷雞腿飯', 'zh-TW', '滷雞'),
    ('滷雞腿飯', 'zh-TW', '滷雞腿'),
    ('香腸飯', 'zh-TW', '香腸飯'),
    ('香腸飯', 'zh-TW', '香腸'),
    ('鯖魚便當', 'zh-TW', '鯖魚便當'),
    ('鯖魚便當', 'zh-TW', '鯖魚'),
    ('鯖魚便當', 'zh-TW', '鯖魚便'),
    ('鱈魚便當', 'zh-TW', '鱈魚便當'),
    ('鱈魚便當', 'zh-TW', '鱈魚'),
    ('鱈魚便當', 'zh-TW', '鱈魚便'),
    ('蒜泥白肉便當', 'zh-TW', '蒜泥白肉便當'),
    ('蒜泥白肉便當', 'zh-TW', '蒜泥'),
    ('蒜泥白肉便當', 'zh-TW', '蒜泥白'),
    ('蒜泥白肉便當', 'zh-TW', '蒜泥白肉'),
    ('蒜泥白肉便當', 'zh-TW', '蒜泥白肉便'),
    ('打拋豬飯', 'zh-TW', '打拋豬飯'),
    ('打拋豬飯', 'zh-TW', '打拋'),
    ('打拋豬飯', 'zh-TW', '打拋豬'),
    ('海南雞飯', 'zh-TW', '海南雞飯'),
    ('海南雞飯', 'zh-TW', '海南'),
    ('海南雞飯', 'zh-TW', '海南雞'),
    ('咖哩雞腿飯', 'zh-TW', '咖哩雞腿飯'),
    ('咖哩雞腿飯', 'zh-TW', '咖哩'),
    ('咖哩雞腿飯', 'zh-TW', '咖哩雞'),
    ('咖哩雞腿飯', 'zh-TW', '咖哩雞腿'),
    ('咖哩牛肉飯', 'zh-TW', '咖哩牛肉飯'),
    ('咖哩牛肉飯', 'zh-TW', '咖哩'),
    ('咖哩牛肉飯', 'zh-TW', '咖哩牛'),
    ('咖哩牛肉飯', 'zh-TW', '咖哩牛肉'),
    ('肉絲炒飯', 'zh-TW', '肉絲炒飯'),
    ('肉絲炒飯', 'zh-TW', '肉絲'),
    ('肉絲炒飯', 'zh-TW', '肉絲炒'),
    ('雞肉炒飯', 'zh-TW', '雞肉炒飯'),
    ('雞肉炒飯', 'zh-TW', '雞肉'),
    ('雞肉炒飯', 'zh-TW', '雞肉炒'),
    ('泡菜炒飯', 'zh-TW', '泡菜炒飯'),
    ('泡菜炒飯', 'zh-TW', '泡菜'),
    ('泡菜炒飯', 'zh-TW', '泡菜炒'),
    ('火腿炒飯', 'zh-TW', '火腿炒飯'),
    ('火腿炒飯', 'zh-TW', '火腿'),
    ('火腿炒飯', 'zh-TW', '火腿炒'),
    ('廣州炒飯', 'zh-TW', '廣州炒飯'),
    ('廣州炒飯', 'zh-TW', '廣州'),
    ('廣州炒飯', 'zh-TW', '廣州炒'),
    ('蛋包飯', 'zh-TW', '蛋包飯'),
    ('蛋包飯', 'zh-TW', '蛋包'),
    ('咖哩蛋包飯', 'zh-TW', '咖哩蛋包飯'),
    ('咖哩蛋包飯', 'zh-TW', '咖哩'),
    ('咖哩蛋包飯', 'zh-TW', '咖哩蛋'),
    ('咖哩蛋包飯', 'zh-TW', '咖哩蛋包'),
    ('豬排蛋包飯', 'zh-TW', '豬排蛋包飯'),
    ('豬排蛋包飯', 'zh-TW', '豬排'),
    ('豬排蛋包飯', 'zh-TW', '豬排蛋'),
    ('豬排蛋包飯', 'zh-TW', '豬排蛋包'),
    ('叉燒飯', 'zh-TW', '叉燒飯'),
    ('叉燒飯', 'zh-TW', '叉燒'),
    ('燒鴨飯', 'zh-TW', '燒鴨飯'),
    ('燒鴨飯', 'zh-TW', '燒鴨'),
    ('油雞飯', 'zh-TW', '油雞飯'),
    ('油雞飯', 'zh-TW', '油雞'),
    ('鍋燒意麵', 'zh-TW', '鍋燒意麵'),
    ('鍋燒意麵', 'zh-TW', '鍋燒'),
    ('鍋燒意麵', 'zh-TW', '鍋燒意'),
    ('鍋燒烏龍麵', 'zh-TW', '鍋燒烏龍麵'),
    ('鍋燒烏龍麵', 'zh-TW', '鍋燒'),
    ('鍋燒烏龍麵', 'zh-TW', '鍋燒烏'),
    ('鍋燒烏龍麵', 'zh-TW', '鍋燒烏龍'),
    ('鍋燒雞絲麵', 'zh-TW', '鍋燒雞絲麵'),
    ('鍋燒雞絲麵', 'zh-TW', '鍋燒'),
    ('鍋燒雞絲麵', 'zh-TW', '鍋燒雞'),
    ('鍋燒雞絲麵', 'zh-TW', '鍋燒雞絲'),
    ('麻油麵線', 'zh-TW', '麻油麵線'),
    ('麻油麵線', 'zh-TW', '麻油'),
    ('麻油麵線', 'zh-TW', '麻油麵'),
    ('當歸麵線', 'zh-TW', '當歸麵線'),
    ('當歸麵線', 'zh-TW', '當歸'),
    ('當歸麵線', 'zh-TW', '當歸麵'),
    ('肉羹麵', 'zh-TW', '肉羹麵'),
    ('肉羹麵', 'zh-TW', '肉羹'),
    ('肉羹米粉', 'zh-TW', '肉羹米粉'),
    ('肉羹米粉', 'zh-TW', '肉羹'),
    ('肉羹米粉', 'zh-TW', '肉羹米'),
    ('魷魚羹麵', 'zh-TW', '魷魚羹麵'),
    ('魷魚羹麵', 'zh-TW', '魷魚'),
    ('魷魚羹麵', 'zh-TW', '魷魚羹'),
    ('魷魚羹米粉', 'zh-TW', '魷魚羹米粉'),
    ('魷魚羹米粉', 'zh-TW', '魷魚'),
    ('魷魚羹米粉', 'zh-TW', '魷魚羹'),
    ('魷魚羹米粉', 'zh-TW', '魷魚羹米'),
    ('臭豆腐', 'zh-TW', '臭豆腐'),
    ('臭豆腐', 'zh-TW', '臭豆'),
    ('大腸包小腸', 'zh-TW', '大腸包小腸'),
    ('大腸包小腸', 'zh-TW', '大腸'),
    ('大腸包小腸', 'zh-TW', '大腸包'),
    ('大腸包小腸', 'zh-TW', '大腸包小'),
    ('潤餅', 'zh-TW', '潤餅'),
    ('刈包', 'zh-TW', '刈包'),
    ('豬血糕', 'zh-TW', '豬血糕'),
    ('豬血糕', 'zh-TW', '豬血'),
    ('鹽水雞', 'zh-TW', '鹽水雞'),
    ('鹽水雞', 'zh-TW', '鹽水'),
    ('番茄炒蛋', 'zh-TW', '番茄炒蛋'),
    ('番茄炒蛋', 'zh-TW', '番茄'),
    ('番茄炒蛋', 'zh-TW', '番茄炒'),
    ('麻婆豆腐', 'zh-TW', '麻婆豆腐'),
    ('麻婆豆腐', 'zh-TW', '麻婆'),
    ('麻婆豆腐', 'zh-TW', '麻婆豆'),
    ('宮保雞丁', 'zh-TW', '宮保雞丁'),
    ('宮保雞丁', 'zh-TW', '宮保'),
    ('宮保雞丁', 'zh-TW', '宮保雞'),
    ('糖醋排骨', 'zh-TW', '糖醋排骨'),
    ('糖醋排骨', 'zh-TW', '糖醋'),
    ('糖醋排骨', 'zh-TW', '糖醋排'),
    ('三杯雞', 'zh-TW', '三杯雞'),
    ('三杯雞', 'zh-TW', '三杯')
)
insert into public.food_aliases (food_id, lang, alias)
select
  fc.id,
  a.alias_lang,
  a.alias
from alias_seed a
join public.food_catalog fc
  on lower(btrim(fc.food_name)) = lower(btrim(a.food_name))
 and coalesce(fc.lang, 'zh-TW') = 'zh-TW'
 and coalesce(fc.is_active, true) = true
where not exists (
  select 1
  from public.food_aliases fa
  where fa.food_id = fc.id
    and lower(btrim(fa.lang)) = lower(btrim(a.alias_lang))
    and lower(btrim(fa.alias)) = lower(btrim(a.alias))
);

commit;
